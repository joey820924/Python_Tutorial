# 基本知識

## 編譯器 vs. 直譯器

#### 編譯器\(Compiler\)

將整個原始程式碼\(source code\)編譯為目的碼\(object code\)，有時亦稱為機器碼\(Machine code\)，再由連結器\(linker\)連結函式庫與其他目的檔，產生可執行的二進制檔。  
  
處理流程大致如下：  
原始碼\(Source code\) --&gt; 預處理器\( Preprocessor\) --&gt; 編譯器\(Compiler\) --&gt; 組譯程式\(Assembler\) --&gt;   
目的碼\(Object Code\) --&gt; 連結器\(Linker\) --&gt; 執行檔\(Executable\)

#### 直譯器\(Interpreter\)

在執行時，透過直譯器\(Interpreter\)動態地將原始程式碼逐句直譯為可執行的機器碼。  
直譯器大致可分為三種處理方式：  
1. 直接執行高階語言，如Shell內建。  
2. 將高階語言轉換至位元碼\(bytecode\)，再執行。  
3. 以直譯器包含的編譯器來進行編譯，並指示處理器執行編譯後的程式。

在Python中，是使用第二種方式，其會自動儲存轉譯過後的的位元碼檔案\(.pyc\)來提升執行速度，因為若原始程式檔案無修改的話，則Python直譯器可直接引用儲存位元碼的檔案，而不用從原始程式檔案再編譯一次。

|  | 編譯器 | 直譯器 |
| --- | --- | --- |
| 優點 | 執行時較快 | 較好改錯、易開發、可攜式佳 |
| 缺點 | 較難進行改錯、平台依賴性問題 | 執行速度慢 |

## 腳本語言 vs. 程式語言

Python既是腳本語言亦是程式語言，那麼所謂的腳本語言與程式語言到底差在哪裡呢？  


#### 腳本語言\(Script Language\)

腳本語言亦稱為直譯器程式語言，其將程式碼逐一的翻譯並執行，不需要經過編譯。  
其產生的目的即是縮短傳統的編寫--&gt;編譯--&gt;鍊結--&gt;執行的過程。  
最大的特程式源碼即為腳本語言程式，亦為最終可執行檔。

#### 程式語言

程式語言指的是編譯器程式語言，其透過使用編譯器\(Compiler\)來將程式碼編譯，輸出機器碼供電腦執行。  
相較於腳本語言，程式語言較為完整且嚴謹。

## 膠水語言

膠水語言\(Glue Language\)源自於腳本語言，在Linux系統下，能將相關功能的程式\(可能由不同程式語言編寫\)像膠水一樣黏在一起。  
Python除了本身擁有豐富的內建函式庫，亦可引入第三方函式庫來完成各種任務。

## 基礎

### 縮排

Python是使用縮排來取代其他程式語言中使用{ }區分代碼塊的，但要注意同一區塊的代碼其縮排必須一樣，如下例。

```text
if True:
    print('ok')
    print('ok2')
else:
    print('no')
    print('no2')
輸出結果：
ok
ok2
# 由上面代碼可看到，Python是使用縮排來區分代碼塊的。

if True:
   print('ok')
   print('ok2')
else:
    print('no')
   print('no2')
輸出結果：
IndentationError: unindent does not match any outer indentation level
# 上面代碼就會引發錯誤，原因是縮排不一。
```

### 註釋

註釋是一段不會被執行的語句，主要功能是說明你的程式碼，是一個很重要的功能，因為程式往往會是多個人一同維護，透過註釋可以讓其他人更容易了解你的程式，進而增加協作效率。  
  
在Python中，你可以用以下的方式達到註釋的效果。

```text
# 你好，我是註釋1
print('ok') # 你好，我是註釋2，但前面的print('ok')仍會被執行喔。

'''
多
行
註
釋
'''

"""
多
行
註
釋
2
"""
輸出結果：
ok
```

### 多行

通常，程式語句可以分行書寫，但仍會出現一些情況導致程式法太長而若塞進一行會太難看。  
但Python提供反斜線\來實現了多行書寫。

```text
print('你'+\
      '好'+\
      '阿')
輸出結果：你好阿
```

### 同行多句

若想在一句中表達多個需換行的程式，需以分號；連接。

```text
print('你好啊');print('我很好')
輸出結果：
你好阿
我很好
```

## 靜態語言 vs. 動態語言

Python是屬於動態語言的一種，所謂的靜態語言與靜態語言的差別到底是什麼呢？  
接著就讓我們來談談吧~

靜態語言：變數是否帶有形態資訊。  
動態語言：變數只用來參考資料，其本身不帶有形態資訊。  
  
基本上，我們在執行程式碼看到的形態就是對底層位元組的抽象化。

#### 靜態語言為例

我們在靜態語言中，若要宣告變數，需先指定其形態，像是下例我們就對變數a指定了字串形態。

```text
# 以Java為例
String a = 'static';
```

然而，在靜態語言中，也有些語言會具有形態推論\(Type Inference\)特性，即其會透過上下文來推測該便樹屬於什麼形態。

```text
# 以Scala為例
val a = 'staticInference'
# 這樣變數a即便沒有預定義形態，也會推測其為字串形態。
```

#### 動態語言為例

像我們的Python大大就是屬於一種動態語言，其在宣告變數時，不用預定義其形態，Python自動就會賦與該變數應有的形態。

```text
a = 'dynamic'
print(a)
執行結果：
<class 'str'>
```

| 語言 | 優點 | 缺點 |
| --- | --- | --- |
| 靜態語言 | 避免執行時形態錯誤、重構輔助 | 複雜、不彈性、僅能在執行前檢測到簡單錯誤 |
| 動態語言 | 簡潔、彈性高 | 形態錯誤在執行時才會出現、效能較差、編輯輔助工具較缺乏 |

## 強型別 vs. 弱型別

Python屬於一種強型別程式語言，那麼所謂強型別程式語言和弱型別程式語言分別為何呢？

#### 強型別

強型別語言在做資料間的操作時，需注意型態宣告。  
以下為例，'1'屬於字串型態，而1屬於數值型態。  
但在做運算時，'1'並不會自動轉換為數值型態來進行相加，而1亦不會自動轉換為字串型態來進行拼接。

```text
# Python
a = '1'+1
print(a)
執行結果：
TypeError: must be str, not int
```

#### 弱型別

弱型別語言在做資料間操作時，各數據型態可互通，其會自動轉換，提升語法簡潔度與彈性。  
然而，這也是個問題，因為這會造成較為混亂且不好維護。  
以下為例，1會自動被轉換為字串型態來進行拼接。

```text
# Javascript
a = '1'+1
print(a)
執行結果：
11
```

> 然而，強型別與弱型別仍沒有一個標準化的定義，因為有些程式語言對於型態很注重但還是可像弱型別一樣自動轉換型態來進行操作，因此一般不會直接以強型別與弱型別來區分程式語言。



